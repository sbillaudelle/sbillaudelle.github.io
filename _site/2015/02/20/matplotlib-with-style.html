<!DOCTYPE html>
<html class="no-js">

  <head>
	<meta charset="utf-8">
	<title>Matplotlib With Style | Sebastian Billaudelle</title>
	<meta name="description" content="matplotlib definitely is the first choice for generating plots from Python and has established itself as the de facto standard in scientific plotting. Despit...">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	
	<!-- CSS -->
	<link rel="stylesheet" href="/css/main.css">
	
	<!--Favicon-->
	<link rel="shortcut icon" href="/img/avatar2.png" type="image/x-icon">
	
	<!-- Canonical -->
	<link rel="canonical" href="http://sbillaudelle.de/2015/02/20/matplotlib-with-style.html">
	
	<!-- RSS -->
	<link rel="alternate" type="application/atom+xml" title="Sebastian Billaudelle" href="http://sbillaudelle.de/feed.xml" />
	
	<!-- Font Awesome -->
	<link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
	
	<!-- Google Fonts -->
	<link href='http://fonts.googleapis.com/css?family=Fira Sans' rel='stylesheet' type='text/css'>
	<link href='http://fonts.googleapis.com/css?family=Fira Mono' rel='stylesheet' type='text/css'>

	<script src="https://apis.google.com/js/platform.js" async defer>
		{lang: 'de'}
	</script>

	
	<!-- Google Analytics -->
	
	<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-38002709-1', 'auto');
    ga('send', 'pageview');

	</script>
	

	<!-- MooTools -->
	<script src="https://ajax.googleapis.com/ajax/libs/mootools/1.5.1/mootools-yui-compressed.js" defer></script>
	<script src="/script/gallery.js" defer></script>
</head>


  <body>
    <header class="site-header">

	<div class="branding">
		
		<a href="/">
      <img class="avatar" src="/img/avatar.jpg" alt=""/>
    </a>
		
		
		<h1 class="site-title">
			<a href="/">Sebastian Billaudelle</a>
		</h1>
	</div>
	
	<nav class="site-nav">
		<ul>
			
				
			
				
				<li>
					<a class="page-link" href="/about/">About</a>
				</li>
				
			
				
			
				
				<li>
					<a class="page-link" href="/imprint/">Imprint</a>
				</li>
				
			
				
			
				
			
				
				<li>
					<a class="page-link" href="/projects/">Projects</a>
				</li>
				
			
		</ul>
	</nav>
	
</header>


    <div class="content">
      <article class="feature-image">

<header style="background: url(/img/pixel-pattern.png) fixed, url('/img/posts/2015-02-17-matplotlib-with-style/teaser.jpg')">
    <h1 class="title">Matplotlib With Style</h1>
    
    <p class="meta">
    February 20, 2015
    
    </p>
  </header>
  <section class="post-content">
    <p><a href="http://matplotlib.org/">matplotlib</a> definitely is the first choice for generating plots from Python and has established itself as the <em>de facto</em> standard in scientific plotting. Despite providing a simple interface, it comes with support for even the most exotic graphics. However, the default styling looks dull and could definitely need an update! This article will introduce a custom plotting style that is more pleasing to the eye while it does not distract from the underlaying objective: creating informative and clear graphics.</p>

<p>The presented theme was derived from the excellent <a href="http://www.huyng.com/posts/sane-color-scheme-for-matplotlib/">work of Huy Nguyen</a>. His <code class="highlighter-rouge">matplotlibrc</code> file is inspired by the default <a href="http://ggplot2.org/">ggplot2</a> design and was specificly compiled for plots viewed on a computer screen. My take on this topic however is intended to generate plots which are crisp and look beautiful on screen as well as paper.</p>

<p><img src="/img/posts/2015-02-17-matplotlib-with-style/examples/trig.png" alt="A simple plot of trigonometric functions." class="half" />
<img src="/img/posts/2015-02-17-matplotlib-with-style/examples/hist.png" alt="An examplary histogram." class="half" /></p>

<p>The following paragraphs are meant to explain the choices made for this style. They do by no means represent a scientific derivation but merely resemble my personal taste – and incorporate feedback from many friends and colleagues.</p>

<h3 id="rendering">Rendering</h3>

<p>I am using the <code class="highlighter-rouge">pgf</code> backend which has been introduced to <code class="highlighter-rouge">matplotlib</code> quite lately. It leaves the rendering to <a href="http://www.xelatex.org/">XeLaTeX</a> or <a href="http://www.luatex.org/">LuaLaTex</a> and can generate <a href="https://www.ctan.org/pkg/pgf">pgf</a> compatible output which can be embedded directly into LaTeX documents.</p>

<p>For printing purposes, I primarily use fonts from the amazing open fonts project <a href="http://www.linuxlibertine.org/">Linux Libertine</a>. This of course is debatable – especially for on-screen viewing. For presentations, I mostly switch to Mozilla’s <a href="https://www.mozilla.org/en-US/styleguide/products/firefox-os/typeface/">Fira Sans</a>.</p>

<p>Caveat: the <code class="highlighter-rouge">pgf</code> backend does not support <code class="highlighter-rouge">plt.show()</code> to show a live version of the plot. I simply work around this issue by writing the output to a file. Alternatively, you can set a different backend programmatically using</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="n">matplotlib</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="s">'GtkAgg'</span><span class="p">)</span> <span class="c"># or any other backend</span></code></pre></figure>

<h3 id="color-scheme">Color Scheme</h3>

<p>The most important component of the color scheme is of course the coloring of the actual data. The following palette is intended to please the eye while at the same time ensuring enough contrast between successive data sets.</p>

<p><img src="/img/posts/2015-02-17-matplotlib-with-style/color-scheme.png" alt="Color palette used in this style." class="half" /></p>

<p>This palette was taken from the <code class="highlighter-rouge">matplotlibrc</code> this style is based on. However, the background color was set to white instead of grey. This does not only make sense for printing, but also increases contrast in general. Lines and grid are kept in a light grey tone in order not to distract from the actual content.</p>

<h3 id="usage">Usage</h3>

<p>My <code class="highlighter-rouge">matplotlibrc</code> is <a href="https://github.com/sbillaudelle/matplotlibrc">hostet on GitHub</a>. Alternatively, you can just grab the <a href="https://raw.githubusercontent.com/sbillaudelle/matplotlibrc/master/matplotlibrc">latest version of the file</a>. I will try to keep it up to date and would love to get some feedback from you!</p>

<p>To use the <code class="highlighter-rouge">matplotlibrc</code> from the repo, just copy it to either <code class="highlighter-rouge">~/.config/matplotlib/matplotlibrc</code> or <code class="highlighter-rouge">~/.matplotlib/matplotlibrc</code> depending on your system and package version.</p>

  </section>
  
</article>

<!-- Disqus -->

<div class="comments">
  <div id="disqus_thread"></div>
<script type="text/javascript">
	var disqus_shortname = 'sbillaudelle'; 
	(function() {
		var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
		dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
		(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>


    </div>

    
<footer class="site-footer">
	<p class="text">Powered by <a href="http://jekyllrb.com">Jekyll</a> with <a href="https://rohanchandra.github.io/project/type/">Type Theme</a>
</p>
</footer>

  </body>
  
</html>
